<!DOCTYPE html>
<html lang="en">
<!--
;===========================================
; Title: Assignment 8.4
; Author: Emily Richter
; Date: 1 February 2020
; Description: Follow instructions to show
; understanding of JavaScript
;===========================================
-->

<head>
  <meta charset="UTF-8">
  <title>Assignment 8.4</title>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <!-- you will need to the href to point to your root directories css file -->
  <link rel="stylesheet" href="../site.css">

  <style type="text/css">
    #employee tbody tr:hover {
      cursor: pointer;
      background-color: #ffff99;
    }
  </style>
</head>
<body>

<div id="emps"></div>

<script type="text/javascript">

// Create JavaScript constructor object
  function employee(id, firstName, lastName, title){
    this.id = id;
    this.firstName = firstName;
    this.lastName = lastName;
    this.title = title;
  };

// Create and populate array of five employee objects
  var employeeList = [
    new employee (1, "Michael", "Scott", "Regional Manager"),
    new employee (2, "Dwight", "Schrute", "Assistant to the Regional Manager"),
    new employee (3, "Jim", "Halpert", "Salesman"),
    new employee (4, "Pam", "Beesly", "Receptionist"),
    new employee (5, "Angela", "Martin", "Head Accountant")
  ];

// Create getEmployee function that accepts id argument, iterates over array, and outputs matching employee record using alert box
  function getEmployee(id){
employeeList.forEach(function(employee){
  if(id === employee.id){
    alert(`${employee.id} ${employee.firstName} ${employee.lastName} ${employee.title}`);}
  });}

// Create a string variable named "output" and build an HTML table.
// Iterate over the employee's array and append each employee property using the <td> </td> tag.
  var output = "<h2>Employees</h2><table>";
  for (var i = 0; i < employeeList.length; i++){
    output += "<tr><td class=table tr>" + employeeList[i].id + "</td><td>" + employeeList[i].firstName + "</td><td>" + employeeList[i].lastName + "</td><td>" + employeeList[i].title + "</td></tr>";
  }
  output += "</table>";
// Assign the output string to the "emps" through the innerHTML function.
  document.getElementById("emps").innerHTML = output;

  // jQuery onClick event
  $(function () {
    $("table tr").click(function (event) {
      event.preventDefault();
      var findEmployee = $(this).find("td:first").html();
      getEmployee(findEmployee);
  });

  });

</script>
</body>
</html>
